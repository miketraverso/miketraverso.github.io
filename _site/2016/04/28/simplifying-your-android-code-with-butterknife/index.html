<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Simplifying your Android code with Butter Knife</title>
    <meta name="author" content="Traversoft Software Inc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content=" Butter Knife is a third party library written by Jake Wharton. Butter Knife will allow you to simplify your Android code with annotations to interact between your code and layouts to avoid findViewById and anonymous inner classes. ">
    <meta name="robots" content="index">
    <link rel="icon"  type="image/ico" href="/images/favicon-2.ico">
    <title>Traversoft</title>

<!-- 	    <title>Simplifying your Android code with Butter Knife</title> -->
    <link rel="canonical" href="//traversoft.com/blog/2016/04/28/simplifying-your-android-code-with-butterknife/">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Droid+Serif:400,700' rel='stylesheet' type='text/css'>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/blog-styles.css">
    <link href="/css/rrssb.css" rel="stylesheet" />

</head>


    <body>

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div id="navbar-container" class="container-fluid">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-main">
		    <span class="sr-only">Toggle navigation</span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		  </button>
		  <div id="logo-text">
		  	<a class="navbar-brand mirror" href="http://www.traversoft.com">traversoft</a>
		  </div>
		</div>
	
		<div class="collapse navbar-collapse" id="navbar-collapse-main">
		  <ul id="nav-list" class="nav navbar-nav navbar-right">
		    <li><a href="http://traversoft.com" data-toggle="collapse" data-target="#navbar-collapse-main">Home</a></li>
		    <li><a href="http://traversoft.com/blog" data-toggle="collapse" data-target="#navbar-collapse-main">Blog</a></li>
			<li><a href="http://traversoft.com/#about-section" data-toggle="collapse" data-target="#navbar-collapse-main">About</a></li>
		    <li><a href="http://traversoft.com/#services-section" data-toggle="collapse" data-target="#navbar-collapse-main">Services</a></li>
		    <li><a href="http://traversoft.com/#contactus-subsection" data-toggle="collapse" data-target="#navbar-collapse-main">Contact</a></li>
		  </ul>
		</div><!-- /.navbar-collapse -->
	</div><!-- /.container-fluid -->
</nav>

    <div class="container">
      <div class="row-fluid">
	      <div class="col-sm-12">
		  <div class="post">

  	<header class="post-header">
	    <h1>Simplifying your Android code with Butter Knife</h1>

	    <p class="meta">
		    <span class="post-date"><i class="fa fa-small fa-clock-o"></i> 28 Apr 2016</span>
		    
		</p>

		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/android">android</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/programming">programming</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/development">development</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/UI">UI</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/UX">UX</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/materialdesign">materialdesign</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/libraries">libraries</a></span>
		
			<span class="label custom-tag"><a href="//traversoft.com/blog/tag/butterknife">butterknife</a></span>
		

		<p></p>
		<div id="social">
			<ul class="rrssb-buttons clearfix">
				<li class="rrssb-facebook">
		    		<a href="https://www.facebook.com/sharer/sharer.php?u=https://traversoft.com/blog/2016/04/28/simplifying-your-android-code-with-butterknife/" class="popup">
					<span class="rrssb-icon">
		        	<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" width="29" height="29" viewBox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z" class="cls-2" fill-rule="evenodd"/></svg>
					</span>
					</a>
			</li>
		    <li class="rrssb-twitter">
		        <a href="https://twitter.com/intent/tweet?text=Simplifying your Android code with Butter Knife%20https://traversoft.com/blog/2016/04/28/simplifying-your-android-code-with-butterknife/" class="popup">
		        <span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62c-3.122.162-6.22-.646-8.86-2.32 2.702.18 5.375-.648 7.507-2.32-2.072-.248-3.818-1.662-4.49-3.64.802.13 1.62.077 2.4-.154-2.482-.466-4.312-2.586-4.412-5.11.688.276 1.426.408 2.168.387-2.135-1.65-2.73-4.62-1.394-6.965C5.574 7.816 9.54 9.84 13.802 10.07c-.842-2.738.694-5.64 3.434-6.48 2.018-.624 4.212.043 5.546 1.682 1.186-.213 2.318-.662 3.33-1.317-.386 1.256-1.248 2.312-2.4 2.942 1.048-.106 2.07-.394 3.02-.85-.458 1.182-1.343 2.15-2.48 2.71z"/></svg></span>
		        </a>
		    </li>
		    <li class="rrssb-linkedin" data-initwidth="14.285714285714286" data-size="54" style="width: 14.2857%;">
	          <!-- Replace href with your meta and URL information -->
	          <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://traversoft.com/blog/2016/04/28/simplifying-your-android-code-with-butterknife/&amp;title=Simplifying your Android code with Butter Knife&amp;summary=So if you're an Android developer than you've used `findViewById`. As an Android developer you've undoubtedly seen, and called, that method many times. It helps...%20by%20Traversoft%20Software" class="popup">
	            <span class="rrssb-icon">
	              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
	                <path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"></path>
	              </svg>
	            </span>
	          </a>
	        </li>
	        <li class="rrssb-email">
		    	<a href="mailto:?subject=Simplifying your Android code with Butter Knife&amp;body=So if you're an Android developer than you've used `findViewById`. As an Android developer you've undoubtedly seen, and called, that method many times. It helps...%20by%20Traversoft%20Software.%20Read%20more%20here:%20https://traversoft.com/blog/2016/04/28/simplifying-your-android-code-with-butterknife/">
						<span class="rrssb-icon"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M20.11 26.147c-2.335 1.05-4.36 1.4-7.124 1.4C6.524 27.548.84 22.916.84 15.284.84 7.343 6.602.45 15.4.45c6.854 0 11.8 4.7 11.8 11.252 0 5.684-3.193 9.265-7.398 9.3-1.83 0-3.153-.934-3.347-2.997h-.077c-1.208 1.986-2.96 2.997-5.023 2.997-2.532 0-4.36-1.868-4.36-5.062 0-4.75 3.503-9.07 9.11-9.07 1.713 0 3.7.4 4.6.972l-1.17 7.203c-.387 2.298-.115 3.3 1 3.4 1.674 0 3.774-2.102 3.774-6.58 0-5.06-3.27-8.994-9.304-8.994C9.05 2.87 3.83 7.545 3.83 14.97c0 6.5 4.2 10.2 10 10.202 1.987 0 4.09-.43 5.647-1.245l.634 2.22zM16.647 10.1c-.31-.078-.7-.155-1.207-.155-2.572 0-4.596 2.53-4.596 5.53 0 1.5.7 2.4 1.9 2.4 1.44 0 2.96-1.83 3.31-4.088l.592-3.72z"/></svg></span>
					</a>
				</li>
			</ul>
		</div>

	</header>

	<article class="post-content">
		<p>So if you’re an Android developer than you’ve used <code>findViewById</code>. As an Android developer you’ve undoubtedly seen, and called, that method many times. It helps you access views contained in the layout files of your Activities or Fragments.</p>

<p>Many of your apps have their <code>onCreate</code> or <code>init</code> methods littered with this method call to obtain reference to all your views that need to interact with your code. Special logic to hide or show a button?… you’ll need findViewById. Certain criteria to change to color of a TextView? … you’ll need findViewById.</p>

<p>What if there was a better way? Jake Wharton, an engineer at <a href="http://www.square.com">Square</a>, has built such a way. Butter Knife has it’s roots in libraries like <a href="https://github.com/google/guice/wiki/Motivation">Guice</a> &amp; <a href="http://square.github.io/dagger/">Dagger</a>. These are dependency injection (DI) libraries. <strong>Butter Knife</strong> follows in that it too is a dependency injection albeit less powerful than the others as it focuses on just handling field and method binding to layouts. To quote Jake Wharton’s <a href="https://github.com/JakeWharton/butterknife">Butter Knife GitHub</a> page, “A butter knife is like a dagger only infinitely less sharp.”</p>

<p>Butter Knife was built to do the following:
* Allow field and method binding
* Connect views &amp; resources easily &amp; cleanly
* Using annotations to generate boilerplate code</p>

<h2 id="what-can-you-expect-from-butter-knife"><strong>What can you expect from Butter Knife…</strong></h2>
<p>Butter Knife lets you annotate your fields in your Java code so that you don’t need to link it to a view id from your layout. So one of the main benefits is no more findViewById calls. Similarly, you’re able to annotate methods in your Java code to handle clicks. That’s pretty rad considering before you had to either create a find and then an anonymous inner class to handle the click on that field OR have an onClick attribute on the field in your layout and hope you created the method with the same name.</p>

<p>Here’s where Butter Knife gets interesting. Say you’ve a bunch of fields in your layout that get hidden or unhidden depending on some logic? Butter Knife lets you operate on a group of views, via a list or array, with actions or setters so instead of a loop through the fields of a field group you’re able to easily act on all of the fields with a line of code.</p>

<p>Finally, Butter Knife helps eliminate resource lookups by using resource annotations on fields. So colors, strings, values, etc. can all be mapped to a field via an annotation. All of these features are what you can expect from the Butter Knife library to help you keep your codebase neat and tidy. So let’s get going with Butter Knife!</p>

<h2 id="installation"><strong>Installation…</strong></h2>
<p>First, we’ll update our Project <strong>build.gradle.</strong> Be sure to include the <code>mavenCentral()</code> repository.</p>

<p><img src="/blog/images/butterknife/install-butterknife-1.png" alt="First step to installing butter knife is setting up your gradle repositories" class="img-responsive center-block" /></p>

<p>Now we’ll move over to our Module <strong>build.gradle</strong>. First we’ll apply the <code>com.neenbedankt.android-apt plugin</code>. This plugin helps with annotation processing and serves two purposes: Allow compile time annotation processing and assisting in generating the boilerplate code.</p>

<p><img src="/blog/images/butterknife/install-butterknife-2.png" alt="Apply plugins in your Android Studio project" class="img-responsive center-block" /></p>

<p>Next we’ll update our Project’s build.gradle to include the
<img src="/blog/images/butterknife/install-butterknife-3.png" alt="Updating your dependencies to pull down the necessary libraries" class="img-responsive center-block" /></p>

<p><img src="/blog/images/butterknife/install-butterknife-4.png" alt="Sync Gradle with Project" class="img-responsive center-block" /></p>

<h2 id="simplify-with-butter-knife"><strong>Simplify with Butter Knife…</strong>*</h2>

<p>Butter Knife leverages annotations. For those of you not used to annotations, they’re simply metadata on the fields, methods or classes they’re annotating. For example, if you’ve seen  <code>@Override</code> or <code>@SuppressWarning</code> you’ve seen annotations. With Butter Knife one of the more popular annotations that you’ll be using is <code>@BindView</code>.</p>

<p>This tutorial we’ll be leveraging the <strong>FaveBakes</strong> project. The starting point for which can be found on GitHub and can be <a href="https://github.com/miketraverso/ListViewToRecyclerView/tree/feature/replace-list-view">downloaded here</a>. Here’s a snippet of code from our project. As you can see this code is pretty busy doing stuff that has to be done in order for you to get to the fun stuff. This is a lot of ugly and all we’re doing is getting fields set to their corresponding views from our layout.</p>

<p><img src="/blog/images/butterknife/before-butterknife.png" alt="Before Butter Knife" class="img-responsive center-block" /></p>

<p>With Butter Knife this:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">RecyclerView</span> <span class="n">listingsView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RecyclerView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">listings_view</span><span class="o">);</span>
<span class="n">Toolbar</span> <span class="n">toolbar</span> <span class="o">=</span> <span class="o">(</span><span class="n">Toolbar</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">toolbar</span><span class="o">);</span></code></pre></div>

<p>can become this:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">listings_view</span><span class="o">)</span> <span class="n">RecyclerView</span> <span class="n">listingsView</span><span class="o">;</span>
<span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">toolbar</span><span class="o">)</span> <span class="n">Toolbar</span> <span class="n">toolbar</span><span class="o">;</span></code></pre></div>

<p>That’s much simpler. This sets up the plumbing. Now we just make a call in our <strong>BakeryListingsActivity</strong>’s <code>onCreate</code> method  to actually have the Butter Knife library bind all the fields and methods we’ve annotated to their corresponding views in the layout. So far pretty easy.</p>

<p><img src="/blog/images/butterknife/butterknife-bind.png" alt="Bind with Butter Knife" class="img-responsive center-block" /></p>

<h2 id="viewholder--fragments"><strong>ViewHolder &amp; Fragments</strong></h2>
<p>What about ViewHolders and Fragments? Can Butter Knife handle them too? Yes. Yes it can. Earlier we took a look at an example of some ugly code. That was our BakeryHolder class, an extension of RecyclerView.ViewHolder. Below let’s see what that code looks like with Butter Knife. As you’ll notice, with the refactoring the constructor is much cleaner.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BakeryHolder</span> <span class="kd">extends</span> <span class="n">RecyclerView</span><span class="o">.</span><span class="na">ViewHolder</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>

    <span class="c1">// 1. Define the bindings to the ViewHolder&#39;s views</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_logo</span><span class="o">)</span> <span class="n">ImageView</span> <span class="n">bakeryLogo</span><span class="o">;</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_name</span><span class="o">)</span> <span class="kd">protected</span> <span class="n">TextView</span> <span class="n">bakeryName</span><span class="o">;</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_address</span><span class="o">)</span> <span class="kd">protected</span> <span class="n">TextView</span> <span class="n">address</span><span class="o">;</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_description</span><span class="o">)</span> <span class="kd">protected</span> <span class="n">TextView</span> <span class="n">description</span><span class="o">;</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_phone</span><span class="o">)</span> <span class="kd">protected</span> <span class="n">TextView</span> <span class="n">phone</span><span class="o">;</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_website</span><span class="o">)</span> <span class="kd">protected</span> <span class="n">TextView</span> <span class="n">website</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">Bakery</span> <span class="n">bakery</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Context</span> <span class="n">context</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">BakeryHolder</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">View</span> <span class="n">itemView</span><span class="o">)</span> <span class="o">{</span>

        <span class="kd">super</span><span class="o">(</span><span class="n">itemView</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">context</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>

        <span class="c1">// 2. Bind Butter knife to this view holder</span>
        <span class="n">ButterKnife</span><span class="o">.</span><span class="na">bind</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">itemView</span><span class="o">);</span>

        <span class="n">itemView</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">bindBakery</span><span class="o">(</span><span class="n">Bakery</span> <span class="n">bakery</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">this</span><span class="o">.</span><span class="na">bakery</span> <span class="o">=</span> <span class="n">bakery</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">bakeryName</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">bakery</span><span class="o">.</span><span class="na">bakeryName</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">address</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">bakery</span><span class="o">.</span><span class="na">address</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">phone</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">bakery</span><span class="o">.</span><span class="na">phoneNumber</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">website</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">bakery</span><span class="o">.</span><span class="na">websiteUrl</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">description</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">bakery</span><span class="o">.</span><span class="na">description</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">bakeryLogo</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">bakery</span><span class="o">.</span><span class="na">logo</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// ...</span>
<span class="o">}</span></code></pre></div>

<p>Here’s an example on how Butter Knife would be used with a <code>Fragment</code>. Notice the class scope <code>Unbinder</code> object. This is what calls to <code>ButterKnife.bind()</code> returns and allows you to call <code>unbind</code>. This is very useful for Fragments as <code>onDestroyView</code> may be called but the instance of the fragment is still present. <code>unbind</code> helps you keep things tidy. You can also call <code>unbind</code> from an Activity’s <code>onDestroy()</code> too if you wanna be super clean.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="n">Unbinder</span> <span class="n">unbinder</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="n">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span>
                         <span class="n">ViewGroup</span> <span class="n">container</span><span class="o">,</span>
                         <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fancy_fragment</span><span class="o">,</span>
                                 <span class="n">container</span><span class="o">,</span>
                                 <span class="kc">false</span><span class="o">);</span>

    <span class="n">unbinder</span> <span class="o">=</span> <span class="n">ButterKnife</span><span class="o">.</span><span class="na">bind</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">view</span><span class="o">);</span>

    <span class="c1">// TODO Use fields...</span>

    <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
<span class="o">}</span></code></pre></div>

<h2 id="other-resources"><strong>Other resources</strong></h2>
<p>Butter Knife is not just for views. Pretty much any resource you have that you’d like to bind to an Activity or Fragment to avoid using <code>getResources()</code></p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Example bindings for resources</span>
<span class="nd">@BindBitmap</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">string</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindArray</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">array</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindBool</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">bool</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindDimen</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">dimen</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindDrawable</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="err">…</span><span class="o">)</span>
<span class="nd">@BindInt</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">integer</span><span class="err">…</span><span class="o">)</span></code></pre></div>

<p>Our FaveBakes project has some pretty messy code in our <code>loadBakeries</code> method. In particular the section that has this snippet:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Bitmap</span> <span class="n">alessiIcon</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">alessi</span><span class="o">);</span>
<span class="n">Bitmap</span> <span class="n">floridaIcon</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">florida</span><span class="o">);</span>
<span class="n">Bitmap</span> <span class="n">housewifeIcon</span> <span class="o">=</span><span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">piece</span><span class="o">);</span>
<span class="n">Bitmap</span> <span class="n">mauricioIcon</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">mauricio</span><span class="o">);</span>
<span class="n">Bitmap</span> <span class="n">pieIcon</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">pie</span><span class="o">);</span></code></pre></div>

<p>If we moved our declaration of all these bitmaps to be members of the class instead of local variables in the method, we can simplify this code and avoid explicitly calling <code>getResources()</code> and using the <code>BitmapFactory</code> class.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BakeryListingsActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>

    <span class="c1">// 1. Bind views on the activity with the @BindView annotation</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">listings_view</span><span class="o">)</span> <span class="n">RecyclerView</span> <span class="n">listingsView</span><span class="o">;</span>
    <span class="nd">@BindView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">toolbar</span><span class="o">)</span> <span class="n">Toolbar</span> <span class="n">toolbar</span><span class="o">;</span>

    <span class="nd">@BindBitmap</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">alessi</span><span class="o">)</span> <span class="n">Bitmap</span> <span class="n">alessiIcon</span><span class="o">;</span>
    <span class="nd">@BindBitmap</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">florida</span><span class="o">)</span> <span class="n">Bitmap</span> <span class="n">floridaIcon</span><span class="o">;</span>
    <span class="nd">@BindBitmap</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">piece</span><span class="o">)</span> <span class="n">Bitmap</span> <span class="n">housewifeIcon</span><span class="o">;</span>
    <span class="nd">@BindBitmap</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">mauricio</span><span class="o">)</span> <span class="n">Bitmap</span> <span class="n">mauricioIcon</span><span class="o">;</span>
    <span class="nd">@BindBitmap</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">mipmap</span><span class="o">.</span><span class="na">pie</span><span class="o">)</span> <span class="n">Bitmap</span> <span class="n">pieIcon</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Bakery</span><span class="o">&gt;</span> <span class="n">bakeries</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Context</span> <span class="n">context</span><span class="o">;</span>

    <span class="c1">// ...</span></code></pre></div>

<p>Pretty neat huh? Nice not having to worry about getting a context to call getResources.</p>

<h2 id="clicks"><strong>Clicks</strong></h2>
<p>While we’ve focused a lot on fields Butter Knife also handles click handling. To show an example, we’re going to take the website link that appears in each item in the RecyclerView and make it clickable.</p>

<p>In BakeryHolder.java we are going to add a new method called <code>launchWebsite</code> that takes in a parameter of a TextView which will represent the TextView that is clicked by the user. Have you noticed the big change in the snippet below? That’s right. The annotation above the method declaration. <code>@OnClick(R.id.bakery_website)</code> binds the <code>launchWebsite(TextView url)</code> method to the onClick event of the R.id.bakery_website view. Neat. No fussing around with layout files and no anonymous inner classes to handle the onClick.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// 3. Handle clicks on the bakery website</span>
<span class="nd">@OnClick</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bakery_website</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">launchWebsite</span><span class="o">(</span><span class="n">TextView</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">String</span> <span class="n">websiteUrl</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">URLUtil</span><span class="o">.</span><span class="na">isValidUrl</span><span class="o">(</span><span class="n">websiteUrl</span><span class="o">))</span> <span class="o">{</span>

        <span class="n">Intent</span> <span class="n">browserIntent</span> <span class="o">=</span>
                <span class="k">new</span> <span class="nf">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">websiteUrl</span><span class="o">));</span>
        <span class="n">context</span><span class="o">.</span><span class="na">startActivity</span><span class="o">(</span><span class="n">browserIntent</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></div>

<p>Note that in the example above, we’re passing in the TextView so that we can read from the TextView that was clicked and grab the URL. That said, the method does NOT have to be provided and the @OnClick would still work. For example, if you pressed a view and wanted an activity to launch you may not need to know which view was pressed. In that scenario you can omit the parameter. The @OnClick annotation also works with a list of views where you may want to bind multiple views to the same method to handle all of those views onClick events. @OnItemSelected is also supported.</p>

<h2 id="groups-of-views"><strong>Groups of views</strong></h2>
<p><strong>Actions</strong>
With Actions we’re able to <em>act</em> on each view in <code>viewsToChange</code>. Here we have defined a <strong>ButterKnife.Setter</strong> to take in a View and an Integer representing the visibility that each view in <code>viewsToChange</code> should have.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ButterKnife</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">viewsToChange</span><span class="o">,</span> <span class="n">SetInvisible</span><span class="o">,</span> <span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>

<span class="c1">//...</span>

<span class="kd">static</span> <span class="kd">final</span> <span class="n">ButterKnife</span><span class="o">.</span><span class="na">Action</span><span class="o">&lt;</span><span class="n">View</span><span class="o">&gt;</span> <span class="n">SetInvisible</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ButterKnife</span><span class="o">.</span><span class="na">Action</span><span class="o">&lt;</span><span class="n">View</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="n">Integer</span> <span class="n">value</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">view</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">INVISIBLE</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></div>

<p><strong>Setters</strong>
With Setters we’re able to take in a value property and <em>set</em> a value on a view. Here we have defined a <strong>ButterKnife.Setter</strong> to take in a View and an Integer representing the visibility that each view in <code>viewsToChange</code> should have.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ButterKnife</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">viewsToChange</span><span class="o">,</span> <span class="n">ChangeVisibility</span><span class="o">,</span> <span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>

<span class="c1">//...</span>

<span class="kd">static</span> <span class="kd">final</span> <span class="n">ButterKnife</span><span class="o">.</span><span class="na">Setter</span><span class="o">&lt;</span><span class="n">View</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ChangeVisibility</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ButterKnife</span><span class="o">.</span><span class="na">Setter</span><span class="o">&lt;</span><span class="n">View</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="n">Integer</span> <span class="n">value</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">view</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></div>

<h2 id="conclusion"><strong>Conclusion</strong></h2>
<p>So with Butter Knife we were able to simplify our app a little bit. Butter Knife is a pretty lightweight library that uses dependency injection along with annotations to provide binding between fields and methods and the views of the layout.</p>

<p>Butter Knife is pretty useful for avoiding lots of extra coding. Useful for binding not just views but event handling such as clicks. Also can be used for binding other resources. Here you can find the <a href="https://github.com/miketraverso/ListViewToRecyclerView/tree/feature/user-butterknife">complete source code</a> of FaveBakes with all the buttery goodness of Butter Knife.</p>

<p><img src="/blog/images/butterknife/finished-product.png" alt="Finished Product" class="img-responsive center-block" /></p>

<p>I hope this helps!</p>

	</article>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<!-- Traversoft Blog -->
		<ins class="adsbygoogle"
		     style="display:block"
		     data-ad-client="ca-pub-4406878197705956"
		     data-ad-slot="1304820626"
		     data-ad-format="auto"></ins>
		<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


  <div id="disqus_thread"></div>
  <script>

  /**
   *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
   *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
  /*
  var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = '//traversoft.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

	      </div>
      </div>
    </div>

    <footer>

  <div class="container">

<!--     <h2 class="footer-heading">traversoft</h2> -->

    <div class="footer-col-12 column">
      <ul>
<!--         <a href="mailto:info@traversoft.com">info@traversoft.com</a> -->
        <div class="col-sm-6 col-xs-12">	
			<div class="row-fluid"> 
				<div class="col-sm-offset-1 col-sm-1 col-xs-offset-2 col-xs-2">
					<a href="http://www.linkedin.com/in/michaelrtraverso/" target="_blank" class="linkedin">
					    <h5>
					        <i class="fa fa-linkedin-square" style="font-size: 45px"></i>
					    </h5>
					</a>
				</div>
				<div class="col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-2">
					<a href="https://www.facebook.com/traversoft" target="_blank" class="facebook-like">
		                <h5>
		                    <i class="fa fa-facebook-square" style="font-size: 45px"></i>
		                </h5>
		            </a>
				</div>
				<div class="col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-2">
				    <a href="https://twitter.com/traversoft" target="_blank" class="twitter">
				        <h5>
				            <i class="fa fa-twitter-square" style="font-size: 45px"></i>
				        </h5>
				    </a>
				</div>
				<div class="col-sm-offset-1 col-sm-1 col-xs-offset-2 col-xs-2">
				    <a id="github-link" href="https://github.com/miketraverso" class="github">
				        <h5>
				            <i class="fa fa-github" style="font-size: 45px"></i>
				        </h5>
				    </a>
				</div>
				<div class="col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-2">
				    
				    <a href="http://appstore.com/traversoft" target="_blank" class="apple">
				        <h5>
				            <i class="fa fa-apple" style="font-size: 45px"></i>
				        </h5>
				    </a>
				</div>
				<div class="col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-2">
				    
				    <a href="#contactus-subsection" class="google">
				        <h5>
				            <i class="fa fa-android" style="font-size: 45px"></i>
				        </h5>
				    </a>
				</div>
			</div>	
			<div class="row-fluid">
				<div class="col-sm-12 col-xs-12">
					<div class="panel-body center lead">Follow <b>Traversoft</b> on social media, check out our apps or <a href="mailto:info@traversoft.com">e-mail</a> us today to discuss your next mobile project</div>
				</div>
			</div>    
		</div>
		
        <div class="col-sm-6 col-xs-12">	
			<div class="row-fluid"> 
				<p class="legalese text-left">Copyright &copy;  Software 2016</p>
				<p class="legalese text-left">Font Awesome by Dave Gandy - http://fontawesome.io</p>
				<p class="legalese text-left">All brand icons are trademarks of their respective owners.</p>
				<p class="legalese text-left">The use of trademarked images does not indicate endorsement of trademark owner by Traversoft.</p>
			</div>
        </div>
      </ul>
    </div>

  </div>
</footer>

<!--
<footer class="site-footer">

  <div class="wrap">

    <h2 class="footer-heading">traversoft</h2>

    <div class="footer-col-1 column">
      <ul>
        <li>traversoft</li>
        <li><a href="mailto:info@traversoft.com">info@traversoft.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username"></span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username"></span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text">We handle iOS and Android development projects of all sorts. We can also help you implement an HTML5/CSS webapp with either a C# or Java backend. Whatever your mobile app needs are we've got the skills to make it happen.</p>
    </div>

  </div>

</footer>
-->


	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="//oss.maxcdn.com/rrssb/1.6.0/js/rrssb.min.js"></script>
	<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-71645176-1', 'auto');ga('send', 'pageview');
	</script>
    </body>
</html>